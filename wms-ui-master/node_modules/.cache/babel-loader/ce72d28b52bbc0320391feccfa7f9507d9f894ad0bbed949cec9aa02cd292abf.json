{"ast":null,"code":"import $http from \"@/http/base\";\nexport function formatDate(date) {\n  let time = new Date(date);\n  console.log(time);\n  let year = time.getFullYear();\n  console.log(year);\n  let month = time.getMonth() + 1;\n  month = month.toString().padStart(2, \"0\");\n  let day = time.getDate().toString().padStart(2, \"0\");\n  return year + \"-\" + month + \"-\" + day + \"\";\n}\nexport default {\n  data() {\n    return {\n      multipleSelection: [],\n      tableloading: false,\n      tableData: [],\n      ff: {\n        name: \"\",\n        bh: \"\",\n        lx: \"\",\n        gg: \"\",\n        dw: \"\",\n        dang: 0,\n        ke: 0,\n        ru: 0,\n        cu: 0\n      }\n    };\n  },\n  methods: {\n    sxx() {\n      this.tableloading = true;\n      // 模拟获取接口数据\n      setTimeout(() => {\n        //调用find();\n        this.find();\n        this.tableloading = false;\n      }, 1000);\n    },\n    //查询\n    find() {\n      var bh = this.$route.query.bh;\n      $http.get(\"http://localhost:5149/api/Wh_transfer_h/KCXX?bh=\" + bh).then(res => {\n        this.tableData = res;\n        for (let i = 0; i < res.length; i++) {\n          this.ff.name = this.tableData[i].item_name;\n          this.ff.bh = this.tableData[i].item_code;\n          this.ff.lx = this.tableData[i].item_type_name;\n          this.ff.dw = this.tableData[i].unit;\n          this.ff.gg = this.tableData[i].model_code;\n          this.ff.ru += this.tableData[i].ru;\n          this.ff.cu += this.tableData[i].cu;\n          this.ff.dang += this.tableData[i].inbill3_num;\n          this.ff.ke += this.tableData[i].ky;\n        }\n      }).catch(err => {\n        alert(err);\n      });\n    },\n    //关闭\n    gb() {\n      this.$router.go(-1);\n    },\n    fzcg() {\n      this.$message({\n        message: \"复制成功\",\n        type: \"success\"\n      });\n    },\n    //选择\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n      console.log(this.multipleSelection);\n    },\n    //时间格式化\n    filterTime(timestamp) {\n      return formatDate(timestamp);\n    }\n  },\n  mounted() {\n    this.find();\n  }\n};","map":{"version":3,"names":["$http","formatDate","date","time","Date","console","log","year","getFullYear","month","getMonth","toString","padStart","day","getDate","data","multipleSelection","tableloading","tableData","ff","name","bh","lx","gg","dw","dang","ke","ru","cu","methods","sxx","setTimeout","find","$route","query","get","then","res","i","length","item_name","item_code","item_type_name","unit","model_code","inbill3_num","ky","catch","err","alert","gb","$router","go","fzcg","$message","message","type","handleSelectionChange","val","filterTime","timestamp","mounted"],"sources":["src/components/StockInquireCode.vue"],"sourcesContent":["<template>\r\n  <div id=\"kjjls\">\r\n    <div style=\"width: 1138px; height: 55px; border-bottom: 1px solid #eeeeee\">\r\n      <ul id=\"kcfb\">\r\n        <li>{{ ff.name }}</li>\r\n        <li>{{ ff.bh }}</li>\r\n        <li>\r\n          货品类型<span class=\"lll\">{{ ff.lx }}</span>\r\n        </li>\r\n        <li>\r\n          规格型号<span class=\"lll\">{{ ff.gg }}</span>\r\n        </li>\r\n        <li>\r\n          单位<span class=\"lll\">{{ ff.dw }}</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div id=\"sandd\">\r\n      <ul id=\"kcsll\">\r\n        <li>\r\n          <span style=\"font-size: 27px; font-weight: 700; color: #9031aa\">{{\r\n            ff.dang\r\n          }}</span>\r\n        </li>\r\n        <li>当前库存</li>\r\n      </ul>\r\n      <ul id=\"kcslll\">\r\n        <li>\r\n          <span style=\"font-size: 27px; font-weight: 700; color: #9031aa\">{{\r\n            ff.ke\r\n          }}</span>\r\n        </li>\r\n        <li>可用库存</li>\r\n      </ul>\r\n    </div>\r\n    <div id=\"sandd\">\r\n      <ul id=\"kcsll\">\r\n        <li>\r\n          <span style=\"font-size: 27px; font-weight: 700; color: #f3b23e\">{{\r\n            ff.cu\r\n          }}</span>\r\n        </li>\r\n        <li>待出库</li>\r\n      </ul>\r\n      <ul id=\"kcslll\">\r\n        <li>\r\n          <span style=\"font-size: 27px; font-weight: 700; color: #5fcb71\">{{\r\n            ff.ru\r\n          }}</span>\r\n        </li>\r\n        <li>待入库</li>\r\n      </ul>\r\n    </div>\r\n    <div style=\"margin-top: 50px; margin-left: 30px\">\r\n      <el-button id=\"lsdcc\" @click=\"dcc()\" icon=\"el-icon-download\"\r\n        >导出</el-button\r\n      >\r\n      <el-button id=\"lssxx\" @click=\"sxx()\" icon=\"el-icon-refresh\"\r\n        >刷新</el-button\r\n      >\r\n      <el-table\r\n        height=\"300px\"\r\n        tooltip-effect=\"dark\"\r\n        v-loading=\"tableloading\"\r\n        @selection-change=\"handleSelectionChange\"\r\n        element-loading-text=\"拼命加载中\"\r\n        element-loading-spinner=\"el-icon-loading\"\r\n        :data=\"tableData\"\r\n        :header-cell-style=\"{\r\n          background: '#F8F8F9',\r\n          color: '#606266',\r\n          'text-align': 'center',\r\n        }\"\r\n        :cell-style=\"{ 'text-align': 'center' }\"\r\n        id=\"kcfbbls\"\r\n      >\r\n        <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\r\n        <el-table-column label=\"序号\" type=\"index\" width=\"125\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"item_name\" label=\"货品名称\" width=\"125\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"ware_code\" label=\"仓库名称\" width=\"125\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"area_code\" label=\"仓位名称\" width=\"125\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"inbill3_num\" label=\"当前库存\" width=\"125\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"ky\" label=\"可用库存\" width=\"134\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"ru\" label=\"待入库\" width=\"130\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"cu\" label=\"待出库\" width=\"130\">\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <div id=\"notification-container\">\r\n      <div id=\"dibu\">\r\n        <el-button id=\"bcccc\" @click=\"gb()\">关闭</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $http from \"@/http/base\";\r\nexport function formatDate(date) {\r\n  let time = new Date(date);\r\n  console.log(time);\r\n  let year = time.getFullYear();\r\n  console.log(year);\r\n  let month = time.getMonth() + 1;\r\n  month = month.toString().padStart(2, \"0\");\r\n  let day = time.getDate().toString().padStart(2, \"0\");\r\n  return year + \"-\" + month + \"-\" + day + \"\";\r\n}\r\nexport default {\r\n  data() {\r\n    return {\r\n      multipleSelection: [],\r\n      tableloading: false,\r\n      tableData: [],\r\n      ff: {\r\n        name: \"\",\r\n        bh: \"\",\r\n        lx: \"\",\r\n        gg: \"\",\r\n        dw: \"\",\r\n        dang: 0,\r\n        ke: 0,\r\n        ru: 0,\r\n        cu: 0,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    sxx() {\r\n      this.tableloading = true;\r\n      // 模拟获取接口数据\r\n      setTimeout(() => {\r\n        //调用find();\r\n        this.find();\r\n        this.tableloading = false;\r\n      }, 1000);\r\n    },\r\n    //查询\r\n    find() {\r\n      var bh = this.$route.query.bh;\r\n      $http\r\n        .get(\"http://localhost:5149/api/Wh_transfer_h/KCXX?bh=\" + bh)\r\n        .then((res) => {\r\n          this.tableData = res;\r\n          for (let i = 0; i < res.length; i++) {\r\n            this.ff.name = this.tableData[i].item_name;\r\n            this.ff.bh = this.tableData[i].item_code;\r\n            this.ff.lx = this.tableData[i].item_type_name;\r\n            this.ff.dw = this.tableData[i].unit;\r\n            this.ff.gg = this.tableData[i].model_code;\r\n            this.ff.ru += this.tableData[i].ru;\r\n            this.ff.cu += this.tableData[i].cu;\r\n            this.ff.dang += this.tableData[i].inbill3_num;\r\n            this.ff.ke += this.tableData[i].ky;\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          alert(err);\r\n        });\r\n    },\r\n    //关闭\r\n    gb() {\r\n      this.$router.go(-1);\r\n    },\r\n    fzcg() {\r\n      this.$message({\r\n        message: \"复制成功\",\r\n        type: \"success\",\r\n      });\r\n    },\r\n    //选择\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n      console.log(this.multipleSelection);\r\n    },\r\n    //时间格式化\r\n    filterTime(timestamp) {\r\n      return formatDate(timestamp);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.find();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#kcfbbls {\r\n  width: 1075px;\r\n}\r\n#lsdcc {\r\n  width: 28px !important;\r\n  color: #fff;\r\n  background-color: #9c27b0;\r\n  line-height: 28px !important;\r\n  width: 73px !important;\r\n  padding: 0px !important;\r\n  margin-left: 2px;\r\n  position: relative;\r\n  top: -25px;\r\n}\r\n#lssxx {\r\n  border: 1px solid #f9dcdc;\r\n  color: #f29895;\r\n  background-color: #fceeed;\r\n  width: 28px !important;\r\n  line-height: 28px !important;\r\n  width: 73px !important;\r\n  padding: 0px !important;\r\n  margin-left: 20px;\r\n  position: relative;\r\n  top: -25px;\r\n}\r\n#sandd {\r\n  width: 517px;\r\n  height: 110px;\r\n  margin-top: 25px;\r\n  margin-left: 35px;\r\n  box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.2);\r\n  display: inline-block;\r\n}\r\n#kcsll {\r\n  width: 250px;\r\n  height: 70px;\r\n  text-align: center;\r\n  display: inline-block;\r\n  line-height: 30px;\r\n  font-size: 13px;\r\n  margin-top: 25px;\r\n}\r\n#kcslll {\r\n  width: 250px;\r\n  height: 70px;\r\n  text-align: center;\r\n  display: inline-block;\r\n  line-height: 30px;\r\n  font-size: 13px;\r\n  margin-top: 25px;\r\n}\r\n#kcfb li {\r\n  float: left;\r\n  line-height: 55px;\r\n  margin-left: 35px;\r\n  font-size: 13px;\r\n}\r\n#kcfb li:nth-child(1) {\r\n  font-size: 15px;\r\n  font-weight: 700;\r\n}\r\n#kjjls {\r\n  width: 1140px !important;\r\n  height: 600px;\r\n  border-radius: 5px;\r\n  background-color: #fff;\r\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);\r\n}\r\n#kcfb li:nth-child(2) {\r\n  font-size: 15px;\r\n  font-weight: 700;\r\n}\r\n.lll {\r\n  padding-left: 25px;\r\n  font-size: 13px;\r\n  color: #b6b6b6;\r\n}\r\n</style>"],"mappings":"AAwGA,OAAAA,KAAA;AACA,gBAAAC,WAAAC,IAAA;EACA,IAAAC,IAAA,OAAAC,IAAA,CAAAF,IAAA;EACAG,OAAA,CAAAC,GAAA,CAAAH,IAAA;EACA,IAAAI,IAAA,GAAAJ,IAAA,CAAAK,WAAA;EACAH,OAAA,CAAAC,GAAA,CAAAC,IAAA;EACA,IAAAE,KAAA,GAAAN,IAAA,CAAAO,QAAA;EACAD,KAAA,GAAAA,KAAA,CAAAE,QAAA,GAAAC,QAAA;EACA,IAAAC,GAAA,GAAAV,IAAA,CAAAW,OAAA,GAAAH,QAAA,GAAAC,QAAA;EACA,OAAAL,IAAA,SAAAE,KAAA,SAAAI,GAAA;AACA;AACA;EACAE,KAAA;IACA;MACAC,iBAAA;MACAC,YAAA;MACAC,SAAA;MACAC,EAAA;QACAC,IAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;QACAC,IAAA;QACAC,EAAA;QACAC,EAAA;QACAC,EAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,IAAA;MACA,KAAAb,YAAA;MACA;MACAc,UAAA;QACA;QACA,KAAAC,IAAA;QACA,KAAAf,YAAA;MACA;IACA;IACA;IACAe,KAAA;MACA,IAAAX,EAAA,QAAAY,MAAA,CAAAC,KAAA,CAAAb,EAAA;MACArB,KAAA,CACAmC,GAAA,sDAAAd,EAAA,EACAe,IAAA,CAAAC,GAAA;QACA,KAAAnB,SAAA,GAAAmB,GAAA;QACA,SAAAC,CAAA,MAAAA,CAAA,GAAAD,GAAA,CAAAE,MAAA,EAAAD,CAAA;UACA,KAAAnB,EAAA,CAAAC,IAAA,QAAAF,SAAA,CAAAoB,CAAA,EAAAE,SAAA;UACA,KAAArB,EAAA,CAAAE,EAAA,QAAAH,SAAA,CAAAoB,CAAA,EAAAG,SAAA;UACA,KAAAtB,EAAA,CAAAG,EAAA,QAAAJ,SAAA,CAAAoB,CAAA,EAAAI,cAAA;UACA,KAAAvB,EAAA,CAAAK,EAAA,QAAAN,SAAA,CAAAoB,CAAA,EAAAK,IAAA;UACA,KAAAxB,EAAA,CAAAI,EAAA,QAAAL,SAAA,CAAAoB,CAAA,EAAAM,UAAA;UACA,KAAAzB,EAAA,CAAAQ,EAAA,SAAAT,SAAA,CAAAoB,CAAA,EAAAX,EAAA;UACA,KAAAR,EAAA,CAAAS,EAAA,SAAAV,SAAA,CAAAoB,CAAA,EAAAV,EAAA;UACA,KAAAT,EAAA,CAAAM,IAAA,SAAAP,SAAA,CAAAoB,CAAA,EAAAO,WAAA;UACA,KAAA1B,EAAA,CAAAO,EAAA,SAAAR,SAAA,CAAAoB,CAAA,EAAAQ,EAAA;QACA;MACA,GACAC,KAAA,CAAAC,GAAA;QACAC,KAAA,CAAAD,GAAA;MACA;IACA;IACA;IACAE,GAAA;MACA,KAAAC,OAAA,CAAAC,EAAA;IACA;IACAC,KAAA;MACA,KAAAC,QAAA;QACAC,OAAA;QACAC,IAAA;MACA;IACA;IACA;IACAC,sBAAAC,GAAA;MACA,KAAA1C,iBAAA,GAAA0C,GAAA;MACArD,OAAA,CAAAC,GAAA,MAAAU,iBAAA;IACA;IACA;IACA2C,WAAAC,SAAA;MACA,OAAA3D,UAAA,CAAA2D,SAAA;IACA;EACA;EACAC,QAAA;IACA,KAAA7B,IAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}