{"ast":null,"code":"import $http from \"../http/base.js\";\nexport function formatDate(date) {\n  let time = new Date(date);\n  console.log(time);\n  let year = time.getFullYear();\n  console.log(year);\n  let month = time.getMonth() + 1;\n  month = month.toString().padStart(2, \"0\");\n  let day = time.getDate().toString().padStart(2, \"0\");\n  return year + \"年\" + month + \"月\" + day + \"日\";\n}\nexport default {\n  data() {\n    return {\n      formInline: {\n        hpname: \"\",\n        hptype: \"\",\n        dw: \"\",\n        ckname: \"\"\n      },\n      tableData: [],\n      multipleSelection: [],\n      tableloading: false,\n      //加载\n      str: \"1=1\",\n      currentPage: 1,\n      //当前页\n      pagesize: 6,\n      //每页显示数\n      rows: 0 //总行数\n    };\n  },\n\n  methods: {\n    //保留两位小数好\n    formatMoney(value) {\n      return value.toFixed(2);\n    },\n    //出入库流水\n    handlels(idd) {\n      this.$router.push({\n        path: \"/StockInquireCode1\",\n        query: {\n          1: idd\n        }\n      });\n    },\n    //库存分布\n    handlefb(idd) {\n      this.$router.push({\n        path: \"/StockInquireCode\",\n        query: {\n          1: idd\n        }\n      });\n    },\n    //每页显示数改变事件\n    handleSizeChange(size) {\n      this.pagesize = size;\n      this.currentPage = 1;\n      this.find();\n    },\n    //页码改变事件\n    handleCurrentChange(page) {\n      this.currentPage = page;\n      this.find();\n    },\n    //查询\n    find() {\n      var t = this;\n      $http.post(\"http://localhost:5149/api/Wh_transfer_h/KuFen?page=\" + t.pagesize + \"&pageSize=\" + t.currentPage + \"&str=\" + t.str).then(res => {\n        t.tableData = res.list;\n        t.rows = res.rows;\n      }).catch(err => {\n        alert(err);\n      });\n    },\n    sxx() {\n      this.tableloading = true;\n      // 模拟获取接口数据\n      setTimeout(() => {\n        //调用find();\n        this.find();\n        this.tableloading = false;\n      }, 1000);\n    },\n    //选择\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    //搜索\n    search() {},\n    //重置\n    reset() {\n      this.formInline = {\n        hpname: \"\",\n        hptype: \"\",\n        dw: \"\",\n        ckname: \"\"\n      };\n    }\n  },\n  mounted() {\n    this.tableloading = true;\n    // 模拟获取接口数据\n    setTimeout(() => {\n      //调用find();\n      this.find();\n      this.tableloading = false;\n    }, 500);\n  }\n};","map":{"version":3,"names":["$http","formatDate","date","time","Date","console","log","year","getFullYear","month","getMonth","toString","padStart","day","getDate","data","formInline","hpname","hptype","dw","ckname","tableData","multipleSelection","tableloading","str","currentPage","pagesize","rows","methods","formatMoney","value","toFixed","handlels","idd","$router","push","path","query","handlefb","handleSizeChange","size","find","handleCurrentChange","page","t","post","then","res","list","catch","err","alert","sxx","setTimeout","handleSelectionChange","val","search","reset","mounted"],"sources":["src/components/StockInquire.vue"],"sourcesContent":["<template>\r\n  <div id=\"kjj\">\r\n    <!--头部-->\r\n    <el-breadcrumb separator=\"/\" id=\"card\">\r\n      <el-breadcrumb-item :to=\"{ path: '/Home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item\r\n        ><a href=\"javascript:void(0)\">统计报表</a></el-breadcrumb-item\r\n      >\r\n      <el-breadcrumb-item>库存查询</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <div id=\"form\">\r\n      <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n        <el-form-item label=\"货品\" id=\"form_top\">\r\n          <el-input\r\n            v-model=\"formInline.hpname\"\r\n            id=\"tex\"\r\n            placeholder=\"请输入货品名称/编号\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"货品类型\" id=\"form_top\">\r\n          <el-select\r\n            v-model=\"formInline.hptype\"\r\n            clearable\r\n            filterable\r\n            placeholder=\"请选择单位\"\r\n            id=\"bddd\"\r\n          >\r\n            <el-option label=\"箱\" value=\"箱\"></el-option>\r\n            <el-option label=\"瓶\" value=\"瓶\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"仓库名称\" id=\"form_top\">\r\n          <el-select\r\n            v-model=\"formInline.ckname\"\r\n            clearable\r\n            filterable\r\n            placeholder=\"请选择单位\"\r\n            id=\"bddd\"\r\n          >\r\n            <el-option label=\"箱\" value=\"箱\"></el-option>\r\n            <el-option label=\"瓶\" value=\"瓶\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"单位\" id=\"form_top\">\r\n          <el-input\r\n            v-model=\"formInline.dw\"\r\n            id=\"tex\"\r\n            placeholder=\"单位\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item id=\"w\">\r\n          <el-button\r\n            @click=\"search()\"\r\n            type=\"primary\"\r\n            id=\"tex1\"\r\n            icon=\"el-icon-search\"\r\n            >搜索</el-button\r\n          >\r\n          <el-button @click=\"reset()\" id=\"tex2\" icon=\"el-icon-refresh\"\r\n            >重置</el-button\r\n          >\r\n          <!-- <el-button type=\"primary\" @click=\"search\">高级搜索</el-button> -->\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <div id=\"sand\">\r\n      <ul id=\"kcsl\">\r\n        <li>\r\n          <span style=\"font-size: 27px; font-weight: 700; color: #9031aa\"\r\n            >50</span\r\n          >\r\n        </li>\r\n        <li>当前库存数量</li>\r\n      </ul>\r\n      <ul id=\"kcsl1\">\r\n        <li>\r\n          <span style=\"font-size: 27px; font-weight: 700; color: #9031aa\"\r\n            >500.00</span\r\n          >\r\n        </li>\r\n        <li>当前库存金额</li>\r\n      </ul>\r\n    </div>\r\n    <div id=\"sand\">\r\n      <ul id=\"kcsl\">\r\n        <li>\r\n          <span style=\"font-size: 27px; font-weight: 700; color: #5fcb71\"\r\n            >50</span\r\n          >\r\n        </li>\r\n        <li>入库数量</li>\r\n      </ul>\r\n      <ul id=\"kcsl1\">\r\n        <li>\r\n          <span style=\"font-size: 27px; font-weight: 700; color: #f3b23e\"\r\n            >500</span\r\n          >\r\n        </li>\r\n        <li>出库数量</li>\r\n      </ul>\r\n    </div>\r\n    <div id=\"sand\">\r\n      <ul id=\"kcsl\">\r\n        <li>\r\n          <span style=\"font-size: 27px; font-weight: 700; color: #5fcb71\"\r\n            >50</span\r\n          >\r\n        </li>\r\n        <li>待入库</li>\r\n      </ul>\r\n      <ul id=\"kcsl1\">\r\n        <li>\r\n          <span style=\"font-size: 27px; font-weight: 700; color: #f3b23e\"\r\n            >500</span\r\n          >\r\n        </li>\r\n        <li>待出库</li>\r\n      </ul>\r\n    </div>\r\n    <div style=\"margin-top: 50px; margin-left: 30px\">\r\n      <el-button id=\"dcc\" @click=\"dcc()\" icon=\"el-icon-download\"\r\n        >导出</el-button\r\n      >\r\n      <el-button id=\"sxx\" @click=\"sxx()\" icon=\"el-icon-refresh\">刷新</el-button>\r\n      <el-table\r\n        tooltip-effect=\"dark\"\r\n        v-loading=\"tableloading\"\r\n        @selection-change=\"handleSelectionChange\"\r\n        element-loading-text=\"拼命加载中\"\r\n        element-loading-spinner=\"el-icon-loading\"\r\n        :data=\"tableData\"\r\n        :header-cell-style=\"{\r\n          background: '#F8F8F9',\r\n          color: '#606266',\r\n          'text-align': 'center',\r\n        }\"\r\n        :cell-style=\"{ 'text-align': 'center' }\"\r\n        id=\"kct\"\r\n      >\r\n        <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\r\n        <el-table-column fixed label=\"序号\" type=\"index\" width=\"50\">\r\n        </el-table-column>\r\n        <el-table-column fixed prop=\"item_code\" label=\"货品编号\" width=\"90\">\r\n        </el-table-column>\r\n        <el-table-column fixed prop=\"item_name\" label=\"货品名称\" width=\"80\">\r\n        </el-table-column>\r\n        <el-table-column fixed prop=\"inbill_state\" label=\"状态\" width=\"80\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"item_type_name\" label=\"货品类型\" width=\"80\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"model_code\" label=\"规格型号\" width=\"80\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"unit\" label=\"单位\" width=\"80\">\r\n        </el-table-column>\r\n        \r\n        <el-table-column prop=\"unit\" label=\"仓库名称\" width=\"80\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"inbill3_num\" label=\"当前库存\" width=\"80\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"jin\" label=\"库存金额\" width=\"80\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"ru\" label=\"待入库\" width=\"80\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"cu\" label=\"待出库\" width=\"80\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"ky\" label=\"可用库存\" width=\"80\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"kyjin\" label=\"可用库存金额\" width=\"120\">\r\n        </el-table-column>\r\n        \r\n        <el-table-column label=\"操作\" fixed=\"right\" width=\"160\">\r\n          <template slot-scope=\"scope\">\r\n            <a\r\n              href=\"javascript:void(0)\"\r\n              style=\"font-size: 13px; color: #9031aa\"\r\n              @click=\"handlels(scope.row)\"\r\n              >出入库流水</a\r\n            >\r\n            <a\r\n              href=\"javascript:void(0)\"\r\n              style=\"font-size: 13px; color: green; margin-left: 10px\"\r\n              @click=\"handlefb(scope.row)\"\r\n              >库存分布</a\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div\r\n        style=\"\r\n          border: 1px solid #eeeeee;\r\n          width: 1022px;\r\n          height: 45px;\r\n          display: inline-block;\r\n          margin-left: 30px;\r\n        \"\r\n      >\r\n        <span style=\"line-height: 45px; font-size: 14px; margin-left: 25px\"\r\n          >合计</span\r\n        >\r\n        <p style=\"float: right\">\r\n          <span style=\"line-height: 45px; font-size: 14px\">当前库存：</span>\r\n          <span\r\n            style=\"\r\n              line-height: 45px;\r\n              font-weight: bold;\r\n              color: red;\r\n              font-size: 14px;\r\n              margin-right: 35px;\r\n            \"\r\n            id=\"dqkc\"\r\n            >0</span\r\n          >\r\n          <span style=\"line-height: 45px; font-size: 14px\">库存金额：</span>\r\n          <span\r\n            style=\"\r\n              line-height: 45px;\r\n              font-weight: bold;\r\n              color: red;\r\n              font-size: 14px;\r\n              margin-right: 35px;\r\n            \"\r\n            id=\"kcje\"\r\n            >0</span\r\n          >\r\n          <span style=\"line-height: 45px; font-size: 14px\">待入库：</span>\r\n          <span\r\n            style=\"\r\n              line-height: 45px;\r\n              font-weight: bold;\r\n              color: red;\r\n              font-size: 14px;\r\n              margin-right: 35px;\r\n            \"\r\n            id=\"dck\"\r\n            >0</span\r\n          >\r\n          <span style=\"line-height: 45px; font-size: 14px\">待出库：</span>\r\n          <span\r\n            style=\"\r\n              line-height: 45px;\r\n              font-weight: bold;\r\n              color: red;\r\n              font-size: 14px;\r\n              margin-right: 35px;\r\n            \"\r\n            id=\"drk\"\r\n            >0</span\r\n          >\r\n          <span style=\"line-height: 45px; font-size: 14px\">可用库存：</span>\r\n          <span\r\n            style=\"\r\n              line-height: 45px;\r\n              font-weight: bold;\r\n              color: red;\r\n              font-size: 14px;\r\n              margin-right: 35px;\r\n            \"\r\n            id=\"kykc\"\r\n            >0</span\r\n          >\r\n          <span style=\"line-height: 45px; font-size: 14px\">可用库存金额：</span>\r\n          <span\r\n            style=\"\r\n              line-height: 45px;\r\n              font-weight: bold;\r\n              color: red;\r\n              font-size: 14px;\r\n              margin-right: 30px;\r\n            \"\r\n            id=\"kcje\"\r\n            >0.00￥</span\r\n          >\r\n        </p>\r\n      </div>\r\n      <!--分页-->\r\n      <el-pagination\r\n        id=\"fenyels\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"currentPage\"\r\n        :page-sizes=\"[6, 12, 18, 24]\"\r\n        :page-size=\"pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"rows\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $http from \"../http/base.js\";\r\nexport function formatDate(date) {\r\n  let time = new Date(date);\r\n  console.log(time);\r\n  let year = time.getFullYear();\r\n  console.log(year);\r\n  let month = time.getMonth() + 1;\r\n  month = month.toString().padStart(2, \"0\");\r\n  let day = time.getDate().toString().padStart(2, \"0\");\r\n  return year + \"年\" + month + \"月\" + day + \"日\";\r\n}\r\nexport default {\r\n  data() {\r\n    return {\r\n      formInline: {\r\n        hpname: \"\",\r\n        hptype: \"\",\r\n        dw: \"\",\r\n        ckname: \"\",\r\n      },\r\n      tableData: [],\r\n      multipleSelection: [],\r\n      tableloading: false, //加载\r\n      str:\"1=1\",\r\n      currentPage: 1, //当前页\r\n      pagesize: 6, //每页显示数\r\n      rows: 0, //总行数\r\n    };\r\n  },\r\n  methods: {\r\n    //保留两位小数好\r\n    formatMoney(value) {\r\n      return value.toFixed(2);\r\n    },\r\n    //出入库流水\r\n    handlels(idd) {\r\n      this.$router.push({\r\n        path: \"/StockInquireCode1\",\r\n        query: {\r\n          1: idd,\r\n        },\r\n      });\r\n    },\r\n    //库存分布\r\n    handlefb(idd) {\r\n      this.$router.push({\r\n        path: \"/StockInquireCode\",\r\n        query: {\r\n          1: idd,\r\n        },\r\n      });\r\n    },\r\n    //每页显示数改变事件\r\n    handleSizeChange(size) {\r\n      this.pagesize = size;\r\n      this.currentPage = 1;\r\n      this.find();\r\n\r\n    },\r\n    //页码改变事件\r\n    handleCurrentChange(page) {\r\n      this.currentPage = page;\r\n      this.find();\r\n\r\n    },\r\n    //查询\r\n    find() {\r\n    var t = this;\r\n      $http\r\n        .post(\r\n          \"http://localhost:5149/api/Wh_transfer_h/KuFen?page=\" +\r\n          t.pagesize +\r\n          \"&pageSize=\" +\r\n          t.currentPage + \"&str=\" + t.str\r\n        )\r\n        .then(res => {\r\n\r\n          t.tableData = res.list;\r\n          t.rows = res.rows;\r\n        })\r\n        .catch(err => {\r\n          alert(err);\r\n        });\r\n    },\r\n    \r\n    sxx() {\r\n      this.tableloading = true;\r\n      // 模拟获取接口数据\r\n      setTimeout(() => {\r\n        //调用find();\r\n        this.find();\r\n        this.tableloading = false;\r\n      }, 1000);\r\n    },\r\n    //选择\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    //搜索\r\n    search() {},\r\n    //重置\r\n    reset() {\r\n      this.formInline = {\r\n        hpname: \"\",\r\n        hptype: \"\",\r\n        dw: \"\",\r\n        ckname: \"\",\r\n      };\r\n    },\r\n  },\r\n  mounted() {\r\n    this.tableloading = true;\r\n    // 模拟获取接口数据\r\n    setTimeout(() => {\r\n      //调用find();\r\n      this.find();\r\n      this.tableloading = false;\r\n    }, 500);\r\n  },\r\n};\r\n</script>\r\n<style scoped src=\"../CSS/public.css\"></style>\r\n\r\n<style>\r\n*{\r\n    margin: 0;\r\n    padding: 0;\r\n    text-decoration: none;\r\n    list-style: none;\r\n    outline: none;\r\n}\r\n\r\n#kcsl {\r\n  width: 146px;\r\n  height: 70px;\r\n  text-align: center;\r\n  display: inline-block;\r\n  line-height: 30px;\r\n  font-size: 13px;\r\n  margin-top: 25px;\r\n}\r\n#kcsl1 {\r\n  width: 146px;\r\n  height: 70px;\r\n  text-align: center;\r\n  display: inline-block;\r\n  line-height: 30px;\r\n  font-size: 13px;\r\n  margin-top: 25px;\r\n}\r\n#dcc {\r\n  width: 28px !important;\r\n  color: #fff;\r\n  background-color: #9c27b0;\r\n  line-height: 28px !important;\r\n  width: 73px !important;\r\n  padding: 0px !important;\r\n  margin-left: 30px;\r\n  position: relative;\r\n  top: -25px;\r\n}\r\n#kct {\r\n  margin-left: 30px;\r\n  width: 1025px;\r\n}\r\n#sxx {\r\n  border: 1px solid #f9dcdc;\r\n  color: #f29895;\r\n  background-color: #fceeed;\r\n  width: 28px !important;\r\n  line-height: 28px !important;\r\n  width: 73px !important;\r\n  padding: 0px !important;\r\n  margin-left: 20px;\r\n  position: relative;\r\n  top: -25px;\r\n}\r\n#kjj {\r\n  width: 1140px !important;\r\n  height: 850px;\r\n  border-radius: 5px;\r\n  background-color: #fff;\r\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);\r\n}\r\n#sand {\r\n  width: 296px;\r\n  height: 110px;\r\n  margin-top: 25px;\r\n  margin-left: 65px;\r\n  box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.2);\r\n  display: inline-block;\r\n}\r\n#form {\r\n  margin-top: 15px;\r\n  width: 1020px;\r\n  box-shadow: 0px 1px 0px rgba(0, 0, 0, 0.2);\r\n  margin-left: 65px;\r\n}\r\n#form_top {\r\n  margin-right: 25px !important;\r\n  margin-bottom: 12px;\r\n}\r\n.el-col-2 {\r\n  width: 30px;\r\n  text-align: center;\r\n}\r\n.el-form--inline .el-form-item__label {\r\n  float: none;\r\n  display: inline-block;\r\n  font-weight: bold;\r\n  font-size: 13px;\r\n}\r\n#fenyels {\r\n  margin-top: 20px;\r\n  text-align: center;\r\n}\r\n</style>"],"mappings":"AAsSA,OAAAA,KAAA;AACA,gBAAAC,WAAAC,IAAA;EACA,IAAAC,IAAA,OAAAC,IAAA,CAAAF,IAAA;EACAG,OAAA,CAAAC,GAAA,CAAAH,IAAA;EACA,IAAAI,IAAA,GAAAJ,IAAA,CAAAK,WAAA;EACAH,OAAA,CAAAC,GAAA,CAAAC,IAAA;EACA,IAAAE,KAAA,GAAAN,IAAA,CAAAO,QAAA;EACAD,KAAA,GAAAA,KAAA,CAAAE,QAAA,GAAAC,QAAA;EACA,IAAAC,GAAA,GAAAV,IAAA,CAAAW,OAAA,GAAAH,QAAA,GAAAC,QAAA;EACA,OAAAL,IAAA,SAAAE,KAAA,SAAAI,GAAA;AACA;AACA;EACAE,KAAA;IACA;MACAC,UAAA;QACAC,MAAA;QACAC,MAAA;QACAC,EAAA;QACAC,MAAA;MACA;MACAC,SAAA;MACAC,iBAAA;MACAC,YAAA;MAAA;MACAC,GAAA;MACAC,WAAA;MAAA;MACAC,QAAA;MAAA;MACAC,IAAA;IACA;EACA;;EACAC,OAAA;IACA;IACAC,YAAAC,KAAA;MACA,OAAAA,KAAA,CAAAC,OAAA;IACA;IACA;IACAC,SAAAC,GAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACAC,IAAA;QACAC,KAAA;UACA,GAAAJ;QACA;MACA;IACA;IACA;IACAK,SAAAL,GAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACAC,IAAA;QACAC,KAAA;UACA,GAAAJ;QACA;MACA;IACA;IACA;IACAM,iBAAAC,IAAA;MACA,KAAAd,QAAA,GAAAc,IAAA;MACA,KAAAf,WAAA;MACA,KAAAgB,IAAA;IAEA;IACA;IACAC,oBAAAC,IAAA;MACA,KAAAlB,WAAA,GAAAkB,IAAA;MACA,KAAAF,IAAA;IAEA;IACA;IACAA,KAAA;MACA,IAAAG,CAAA;MACA5C,KAAA,CACA6C,IAAA,CACA,wDACAD,CAAA,CAAAlB,QAAA,GACA,eACAkB,CAAA,CAAAnB,WAAA,aAAAmB,CAAA,CAAApB,GACA,EACAsB,IAAA,CAAAC,GAAA;QAEAH,CAAA,CAAAvB,SAAA,GAAA0B,GAAA,CAAAC,IAAA;QACAJ,CAAA,CAAAjB,IAAA,GAAAoB,GAAA,CAAApB,IAAA;MACA,GACAsB,KAAA,CAAAC,GAAA;QACAC,KAAA,CAAAD,GAAA;MACA;IACA;IAEAE,IAAA;MACA,KAAA7B,YAAA;MACA;MACA8B,UAAA;QACA;QACA,KAAAZ,IAAA;QACA,KAAAlB,YAAA;MACA;IACA;IACA;IACA+B,sBAAAC,GAAA;MACA,KAAAjC,iBAAA,GAAAiC,GAAA;IACA;IACA;IACAC,OAAA;IACA;IACAC,MAAA;MACA,KAAAzC,UAAA;QACAC,MAAA;QACAC,MAAA;QACAC,EAAA;QACAC,MAAA;MACA;IACA;EACA;EACAsC,QAAA;IACA,KAAAnC,YAAA;IACA;IACA8B,UAAA;MACA;MACA,KAAAZ,IAAA;MACA,KAAAlB,YAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}