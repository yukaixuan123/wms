{"ast":null,"code":"// 定义基本的axios-baseaxios.js\nimport axios from 'axios';\nconst token = localStorage.getItem('token'); // 服务端拿的 token 可以从 vuex、localStorage 等地方取\n\naxios.defaults.headers['authorization'] = `Bearer ${token}`;\n// axios.create 创建一个axios实例  我们给这个实例编写配置，后续所有通过实例发送的请求，都受当前配置约束\nconst $http = axios.create({\n  baseURL: '',\n  timeout: 1000000,\n  'token': localStorage.getItem('token')\n});\n\n// 添加请求拦截器\n$http.interceptors.request.use(function (config) {\n  // 在发送请求之前做些什么\n  config.headers.token = '1';\n  return config;\n}, function (error) {\n  // 对请求错误做些什么\n  return Promise.reject(error);\n});\n\n// 添加响应拦截器\n$http.interceptors.response.use(function (response) {\n  let token = localStorage.getItem('token');\n  // 对响应数据做点什么\n  let data = response.data;\n  return data;\n}, function (error) {\n  // 对响应错误做点什么\n  return Promise.reject(error);\n});\nexport default $http;","map":{"version":3,"names":["axios","token","localStorage","getItem","defaults","headers","$http","create","baseURL","timeout","interceptors","request","use","config","error","Promise","reject","response","data"],"sources":["D:/QQ/wms-ui-master7.0/wms-ui-master/src/http/base.js"],"sourcesContent":["// 定义基本的axios-baseaxios.js\nimport axios from 'axios'\n\nconst token = localStorage.getItem('token'); // 服务端拿的 token 可以从 vuex、localStorage 等地方取\n\naxios.defaults.headers['authorization'] = `Bearer ${token}`;\n// axios.create 创建一个axios实例  我们给这个实例编写配置，后续所有通过实例发送的请求，都受当前配置约束\nconst $http = axios.create({\n    baseURL: '',\n    timeout: 1000000,\n    'token': localStorage.getItem('token')\n});\n\n// 添加请求拦截器\n$http.interceptors.request.use(function (config) {\n    // 在发送请求之前做些什么\n    config.headers.token = '1'\n    return config;\n}, function (error) {\n    // 对请求错误做些什么\n    return Promise.reject(error);\n});\n\n// 添加响应拦截器\n$http.interceptors.response.use(function (response) {\n    let token = localStorage.getItem('token');\n    // 对响应数据做点什么\n    let data = response.data;\n\n    return data;\n}, function (error) {\n    // 对响应错误做点什么\n    return Promise.reject(error);\n});\nexport default $http"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;;AAE7CH,KAAK,CAACI,QAAQ,CAACC,OAAO,CAAC,eAAe,CAAC,GAAI,UAASJ,KAAM,EAAC;AAC3D;AACA,MAAMK,KAAK,GAAGN,KAAK,CAACO,MAAM,CAAC;EACvBC,OAAO,EAAE,EAAE;EACXC,OAAO,EAAE,OAAO;EAChB,OAAO,EAAEP,YAAY,CAACC,OAAO,CAAC,OAAO;AACzC,CAAC,CAAC;;AAEF;AACAG,KAAK,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAAUC,MAAM,EAAE;EAC7C;EACAA,MAAM,CAACR,OAAO,CAACJ,KAAK,GAAG,GAAG;EAC1B,OAAOY,MAAM;AACjB,CAAC,EAAE,UAAUC,KAAK,EAAE;EAChB;EACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;;AAEF;AACAR,KAAK,CAACI,YAAY,CAACO,QAAQ,CAACL,GAAG,CAAC,UAAUK,QAAQ,EAAE;EAChD,IAAIhB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACzC;EACA,IAAIe,IAAI,GAAGD,QAAQ,CAACC,IAAI;EAExB,OAAOA,IAAI;AACf,CAAC,EAAE,UAAUJ,KAAK,EAAE;EAChB;EACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;AACF,eAAeR,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}